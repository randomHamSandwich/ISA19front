<p>lekar-list works!</p>

{{lekarFilter.spec}}
<p>{{lekarFilter.date}}</p>

<div *ngIf="isPacijent(); else loggedOut">
      <form name="form" (ngSubmit)="f.form.valid && onSubmit()" #f="ngForm" required>

            <div class="form-group">
              <label for="spec">Specijalizacija:</label>
              <select class="form-control" name="spec" [(ngModel)]="form.spec" #spec="ngModel" required>
        
                <option *ngFor="let s of specs " [value]="s.name" [selected]="true" ng-selected="true">
                  {{s.name}}
                </option>
              </select>
              <div *ngIf="f.submitted && spec.invalid">
                <div *ngIf="spec.errors.required">Specijalizacija is required</div>
              </div>
        
            </div>
        
            <div class="form-group">
              <!-- <div class="col-xs-12 col-12 col-md-4 form-group"> -->
              <input type="text" placeholder="Datepicker" class="form-control" bsDatepicker name=date [(ngModel)]="form.date"
                [minDate]="minDate" readonly #date="ngModel" required [bsConfig]="{ dateInputFormat: 'DD-MM-YYYY'  }">
              <!-- </div> -->
              <div *ngIf="f.submitted && date.invalid">
                <div *ngIf="date.errors.required">Date is required</div>
              </div>
        
            </div>
        
            <div class="form-group">
              <button class="btn btn-primary">Pretrazi</button>
        
            </div>
          </form>





<table class="table table-dark">
      <thead>
            <tr>
                  <th scope="col">#</th>
                  <th scope="col">Ime</th>
                  <th scope="col">Prezime</th>
                  <th scope="col">Specijalaizacija</th>
                  <th scope="col">Klinika</th>
                  <th scope="col">Ocena Lekar</th>
                  <th scope="col">Cena</th>
                  <th scope=col>Vreme od &nbsp; &nbsp;  do</th>
                  <th></th>
            </tr>
      </thead>

      <tbody *ngFor="let lekar of lekari | async; let i = index;">


            <tr class="info">
                  <th scope="row">0</th>
                  <td class="table-secondar">{{lekar.ime}}</td>
                  <td>{{lekar.prezime}}</td>
                  <td>{{lekar.specijalizacija}}</td>
                  <td>{{lekar.klinikaNaziv}}</td>
                  <td>{{lekar.ocenaLekar}}</td>
                  <td>{{lekar.cena}}</td>
                  <td>

                    <select name="moguciTermniList[{{i}}]" [(ngModel)]="moguciTermniList[i]"
                     (change) = "onTerminChange($event.target.value)">
        
                      <option *ngFor="let termin of lekar.slobodniTermini " [value]="termin">
                        {{termin}}
                      </option>
                    </select>
                <!-- {{lekar.zzzzz}} -->
 

                  </td>
                  <td> <button  class="btn btn-info" (click)= "onZakaziLekar(lekar,moguciTermniList[i])" [disabled]="isBtnDisabled">Zakazi</button> </td>
            </tr>


      </tbody>

</table>

<div *ngFor="let lekar of lekari | async" style="width: 300px;">
      <app-lekar [lekar]='lekar'></app-lekar>

</div>
</div>

<ng-template #loggedOut>
      Please login.
    
      <!-- <strong>Username:</strong> {{info.username}}<br />
      <strong>Roles:</strong> {{info.authorities}}<br />
      <strong>Token:</strong> {{info.token}}. <br />
      <strong>IdKorisnik:</strong> {{info.idKorisnik}}. <br />
      <strong>Authorities</strong> "{{info.authorities}}"" -->
    
    </ng-template>